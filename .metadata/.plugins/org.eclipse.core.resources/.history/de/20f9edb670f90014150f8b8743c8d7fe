package hr.fer.zemris.java.gui.calc.buttons;

import javax.swing.JButton;

public class FunctionButton extends JButton {
	
	private String name;
	private String nameInverted;
	private boolean isInverted;
	private Function normal;
	private Function inverted;
	
	public FunctionButton(String name, String nameInverted, Function normal, Function inverted) {
		super(name);
		this.name = name;
		this.nameInverted = nameInverted;
		this.normal = normal;
		this.inverted = inverted;
	}
	
	public Double apply(double number) {
		if (isInverted) {
			return invertedApply(number);
		} else {
			return normalApply(number);
		}
	}
	
	/*protected abstract double normalApply(double number);
	protected abstract double invertedApply(double number);*/
	private double normalApply(double number) {
		return normal.apply(number);
	}
	
	private double invertedApply(double number) {
		return inverted.apply(number);
	}

	public void update(boolean inverted) {
		this.isInverted = inverted;
		if (inverted) {
			setText(nameInverted);
		} else {
			setText(name);
		}
	}
	
	public static interface Function {
		Double apply(double number);
	}
	
	
	
}
